<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart-ParkingLot: I2C access</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Smart-ParkingLot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">I2C access</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1309569f7363853333f3040b1553ea64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__i2c.html#ga1309569f7363853333f3040b1553ea64">bcm2835_i2c_begin</a> (void)</td></tr>
<tr class="separator:ga1309569f7363853333f3040b1553ea64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a91c4c5cdfe6d7d8fc127b4f3122db4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__i2c.html#ga0a91c4c5cdfe6d7d8fc127b4f3122db4">bcm2835_i2c_end</a> (void)</td></tr>
<tr class="separator:ga0a91c4c5cdfe6d7d8fc127b4f3122db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b0495cb138bd5eb26965f5a00b08dc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__i2c.html#ga6b0495cb138bd5eb26965f5a00b08dc0">bcm2835_i2c_setSlaveAddress</a> (uint8_t addr)</td></tr>
<tr class="separator:ga6b0495cb138bd5eb26965f5a00b08dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a00e88236977643f0727557cfa16838"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__i2c.html#ga6a00e88236977643f0727557cfa16838">bcm2835_i2c_setClockDivider</a> (uint16_t divider)</td></tr>
<tr class="separator:ga6a00e88236977643f0727557cfa16838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba831b5b437e32c4272ec89bab7ebfdf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__i2c.html#gaba831b5b437e32c4272ec89bab7ebfdf">bcm2835_i2c_set_baudrate</a> (uint32_t baudrate)</td></tr>
<tr class="separator:gaba831b5b437e32c4272ec89bab7ebfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e9d3835ace8697fd9e7bf1278b3ba76"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__i2c.html#ga8e9d3835ace8697fd9e7bf1278b3ba76">bcm2835_i2c_write</a> (const char *buf, uint32_t len)</td></tr>
<tr class="separator:ga8e9d3835ace8697fd9e7bf1278b3ba76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d01c1483ae12ff682068d0a56b6529a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__i2c.html#ga5d01c1483ae12ff682068d0a56b6529a">bcm2835_i2c_read</a> (char *buf, uint32_t len)</td></tr>
<tr class="separator:ga5d01c1483ae12ff682068d0a56b6529a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb378490c2f6c295072f2da6eae2275a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__i2c.html#gacb378490c2f6c295072f2da6eae2275a">bcm2835_i2c_read_register_rs</a> (char *regaddr, char *buf, uint32_t len)</td></tr>
<tr class="separator:gacb378490c2f6c295072f2da6eae2275a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions let you use I2C (The Broadcom Serial Control bus with the Philips I2C bus/interface version 2.1 January 2000.) to interface with an external I2C device. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1309569f7363853333f3040b1553ea64" name="ga1309569f7363853333f3040b1553ea64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1309569f7363853333f3040b1553ea64">&#9670;&#160;</a></span>bcm2835_i2c_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_i2c_begin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start I2C operations. Forces RPi I2C pins P1-03 (SDA) and P1-05 (SCL) to alternate function ALT0, which enables those pins for I2C interface. You should call <a class="el" href="group__i2c.html#ga0a91c4c5cdfe6d7d8fc127b4f3122db4">bcm2835_i2c_end()</a> when all I2C functions are complete to return the pins to their default functions </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__i2c.html#ga0a91c4c5cdfe6d7d8fc127b4f3122db4">bcm2835_i2c_end()</a> </dd></dl>

</div>
</div>
<a id="ga0a91c4c5cdfe6d7d8fc127b4f3122db4" name="ga0a91c4c5cdfe6d7d8fc127b4f3122db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a91c4c5cdfe6d7d8fc127b4f3122db4">&#9670;&#160;</a></span>bcm2835_i2c_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_i2c_end </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End I2C operations. I2C pins P1-03 (SDA) and P1-05 (SCL) are returned to their default INPUT behaviour. </p>

</div>
</div>
<a id="ga5d01c1483ae12ff682068d0a56b6529a" name="ga5d01c1483ae12ff682068d0a56b6529a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d01c1483ae12ff682068d0a56b6529a">&#9670;&#160;</a></span>bcm2835_i2c_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bcm2835_i2c_read </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfers any number of bytes from the currently selected I2C slave. (as previously set by </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__i2c.html#ga6b0495cb138bd5eb26965f5a00b08dc0">bcm2835_i2c_setSlaveAddress</a>) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer of bytes to receive. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes in the buf buffer, and the number of bytes to received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>reason see <a class="el" href="group__constants.html#gab59cd406976a819cff4505e978b27fcd">bcm2835I2CReasonCodes</a> </dd></dl>

</div>
</div>
<a id="gacb378490c2f6c295072f2da6eae2275a" name="gacb378490c2f6c295072f2da6eae2275a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb378490c2f6c295072f2da6eae2275a">&#9670;&#160;</a></span>bcm2835_i2c_read_register_rs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bcm2835_i2c_read_register_rs </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>regaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows reading from I2C slaves that require a repeated start (without any prior stop) to read after the required slave register has been set. For example, the popular MPL3115A2 pressure and temperature sensor. Note that your device must support or require this mode. If your device does not require this mode then the standard combined: </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__i2c.html#ga8e9d3835ace8697fd9e7bf1278b3ba76">bcm2835_i2c_write</a> </dd>
<dd>
<a class="el" href="group__i2c.html#ga5d01c1483ae12ff682068d0a56b6529a">bcm2835_i2c_read</a> are a better choice. Will read from the slave previously set by </dd>
<dd>
<a class="el" href="group__i2c.html#ga6b0495cb138bd5eb26965f5a00b08dc0">bcm2835_i2c_setSlaveAddress</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">regaddr</td><td>Buffer containing the slave register you wish to read from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer of bytes to receive. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes in the buf buffer, and the number of bytes to received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>reason see <a class="el" href="group__constants.html#gab59cd406976a819cff4505e978b27fcd">bcm2835I2CReasonCodes</a> </dd></dl>

</div>
</div>
<a id="gaba831b5b437e32c4272ec89bab7ebfdf" name="gaba831b5b437e32c4272ec89bab7ebfdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba831b5b437e32c4272ec89bab7ebfdf">&#9670;&#160;</a></span>bcm2835_i2c_set_baudrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_i2c_set_baudrate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baudrate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the I2C clock divider by converting the baudrate parameter to the equivalent I2C clock divider. ( see </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__i2c.html#ga6a00e88236977643f0727557cfa16838">bcm2835_i2c_setClockDivider</a>) For the I2C standard 100khz you would set baudrate to 100000 The use of baudrate corresponds to its use in the I2C kernel device driver. (Of course, bcm2835 has nothing to do with the kernel driver) </dd></dl>

</div>
</div>
<a id="ga6a00e88236977643f0727557cfa16838" name="ga6a00e88236977643f0727557cfa16838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a00e88236977643f0727557cfa16838">&#9670;&#160;</a></span>bcm2835_i2c_setClockDivider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_i2c_setClockDivider </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>divider</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the I2C clock divider and therefore the I2C clock speed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">divider</td><td>The desired I2C clock divider, one of BCM2835_I2C_CLOCK_DIVIDER_*, see <a class="el" href="group__constants.html#ga98a5303c1b527513fb659472601687bb">bcm2835I2CClockDivider</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6b0495cb138bd5eb26965f5a00b08dc0" name="ga6b0495cb138bd5eb26965f5a00b08dc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b0495cb138bd5eb26965f5a00b08dc0">&#9670;&#160;</a></span>bcm2835_i2c_setSlaveAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_i2c_setSlaveAddress </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the I2C slave address. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>The I2C slave address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8e9d3835ace8697fd9e7bf1278b3ba76" name="ga8e9d3835ace8697fd9e7bf1278b3ba76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e9d3835ace8697fd9e7bf1278b3ba76">&#9670;&#160;</a></span>bcm2835_i2c_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bcm2835_i2c_write </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfers any number of bytes to the currently selected I2C slave. (as previously set by </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__i2c.html#ga6b0495cb138bd5eb26965f5a00b08dc0">bcm2835_i2c_setSlaveAddress</a>) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer of bytes to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes in the buf buffer, and the number of bytes to send. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>reason see <a class="el" href="group__constants.html#gab59cd406976a819cff4505e978b27fcd">bcm2835I2CReasonCodes</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
